<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - Rhyll</title>
    <link rel="icon" type="image/png" href="images/icon-light-32x32.png">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="bg-slate-50">
    <div class="flex items-center justify-center" style="min-height: 100vh; padding: 2rem 1rem;">
        <div class="card" style="max-width: 28rem; width: 100%; padding: 2rem;">
            <div class="text-center mb-8">
                <img src="images/rhyll-logo.png" alt="Rhyll" style="height: 3rem; width: auto; margin: 0 auto 1rem;">
                <h1 class="text-3xl font-bold text-slate-900 mb-2">Create Account</h1>
                <p class="text-slate-600">Join Rhyll today</p>
            </div>

            <form id="signup-form">
                <div class="form-group">
                    <label for="name" class="form-label">Full Name</label>
                    <input type="text" id="name" class="form-input" placeholder="John Doe" required>
                    <div id="name-error" class="error-message"
                        style="color: var(--red-500); font-size: 0.875rem; margin-top: 0.25rem; display: none;"></div>
                </div>

                <div class="form-group">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" id="email" class="form-input" placeholder="you@example.com" required>
                    <div id="email-error" class="error-message"
                        style="color: var(--red-500); font-size: 0.875rem; margin-top: 0.25rem; display: none;"></div>
                </div>

                <div class="form-group">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" id="password" class="form-input" placeholder="••••••••" required>
                    <div id="password-error" class="error-message"
                        style="color: var(--red-500); font-size: 0.875rem; margin-top: 0.25rem; display: none;"></div>
                    <p class="text-sm text-slate-600 mt-1">Must be at least 6 characters</p>
                </div>

                <div id="form-error" class="error-message"
                    style="color: var(--red-500); font-size: 0.875rem; margin-bottom: 1rem; display: none;"></div>

                <button type="submit" class="btn btn-primary btn-full mb-4">Create Account</button>

                <p class="text-center text-slate-600 text-sm">
                    Already have an account?
                    <a href="login.html" class="text-blue-600 font-semibold">Login</a>
                </p>

                <p class="text-center text-slate-600 text-sm mt-4">
                    <a href="index.html" class="text-blue-600">← Back to Home</a>
                </p>
            </form>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/auth.js"></script>
    <script>
        document.getElementById('signup-form').addEventListener('submit', (e) => {
            e.preventDefault();
            clearAllErrors();

            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            // Validate
            if (!name.trim()) {
                showError('name', 'Please enter your name');
                return;
            }

            if (!validateEmail(email)) {
                showError('email', 'Please enter a valid email address');
                return;
            }

            if (!validatePassword(password)) {
                showError('password', 'Password must be at least 6 characters');
                return;
            }

            // Attempt signup
            const result = signup(name, email, password);

            if (result.success) {
                window.location.href = 'index.html';
            } else {
                const formError = document.getElementById('form-error');
                formError.textContent = result.message;
                formError.style.display = 'block';
            }
        });
    </script>
</body>

</html>